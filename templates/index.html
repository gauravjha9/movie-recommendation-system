<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie Recommender</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet">
</head>

<body class="bg-light text-dark">

  <div class="container py-5">
    <h1 class="text-center mb-5">Movie Recommendation Systems</h1>

    <form method="POST" action="/recommend" class="mb-5">
        <div class="row g-3 align-items-center">
          <div class="col-md-9">
            <input
              type="text"
              name="movie"
              class="form-control"
              list="movie-list"
              placeholder="Search for a movie"
              value="{{ selected_movie if selected_movie is defined else '' }}"
              required
            >
            <datalist id="movie-list">
              {% for movie in movie_list %}
                <option value="{{ movie }}"></option>
              {% endfor %}
            </datalist>
          </div>
          <div class="col-md-3">
            <button type="submit" class="btn btn-primary w-100">Recommend</button>
          </div>
        </div>
    </form>

    {% if error_message %}
      <div class="alert alert-danger">{{ error_message }}</div>
    {% endif %}

    {% if recommendations %}
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Recommended Movies</h4>
          <ul class="list-group list-group-flush">
            {% for rec in recommendations %}
              <li class="list-group-item">{{ rec }}</li>
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endif %}

  </div>

</body>
</html>
